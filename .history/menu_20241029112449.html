<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="utf-8" />
    <title>Restoran - Mẫu Trang Web Nhà Hàng Bootstrap</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="keywords" />
    <meta content="" name="description" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <!-- Icon Font Stylesheet -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet" />
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
    <link
      href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"
      rel="stylesheet"
    />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet" />

    <!-- Customized CSS for Synchronizing Card Sizes -->
    <style>
      /*** Menu Items Synchronization ***/

      /* Định dạng CSS chỉ áp dụng cho nút "Xem Chi Tiết" */
      .btn-view-details {
        position: absolute;
        bottom: 15px;
        right: 20px;
        padding: 10px 20px;
        background: var(--primary);
        color: #fff;
        border: none;
        border-radius: 5px;
        text-transform: uppercase;
        font-size: 0.9rem;
        font-weight: 600;
        cursor: pointer;
        transition: background-color var(--transition-duration) ease,
          transform var(--transition-duration) ease,
          opacity var(--transition-duration) ease,
          box-shadow var(--transition-duration) ease;
        opacity: 0;
        pointer-events: none;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        z-index: 10;
      }

      /* Hiển thị nút khi hover */
      .menu-item:hover .btn-view-details {
        opacity: 1;
        pointer-events: auto;
      }

      .row.g-4 {
        display: flex;
        flex-wrap: wrap;
      }

      .row.g-4 > [class*="col-"] {
        display: flex;
        flex-direction: column;
      }

      /* Keyframes cho hiệu ứng lắc */
      @keyframes shake {
        0% {
          transform: translateX(-50%) translateY(-50%) scale(1.05)
            rotate(0deg);
        }

        25% {
          transform: translateX(-50%) translateY(-50%) scale(1.05)
            rotate(5deg);
        }

        50% {
          transform: translateX(-50%) translateY(-50%) scale(1.05)
            rotate(-5deg);
        }

        75% {
          transform: translateX(-50%) translateY(-50%) scale(1.05)
            rotate(5deg);
        }

        100% {
          transform: translateX(-50%) translateY(-50%) scale(1.05)
            rotate(0deg);
        }
      }

      /*** Modal Enhancements ***/
      .modal-content {
        border-radius: 15px;
        overflow: hidden;
      }

      .modal-header {
        background-color: var(--primary);
        color: #fff;
        border-bottom: none;
        padding: 20px;
      }

      .modal-title {
        font-weight: 600;
        font-size: 1.75rem;
      }

      .modal-body {
        padding: 20px;
      }

      .rating i {
        color: #ffc107;
        margin-right: 2px;
      }

      .testimonial-item {
        background-color: #f8f9fa;
        border-left: 5px solid var(--primary);
        padding: 15px;
        box-shadow: var(--box-shadow);
        border-radius: 5px;
        transition: background-color var(--transition-duration),
          box-shadow var(--transition-duration);
      }

      .testimonial-item:hover {
        background-color: #ffffff;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      }

      .testimonial-item p {
        font-style: italic;
        color: #333333;
      }

      .testimonial-item small {
        color: #555555;
      }

      .btn-social {
        width: 35px;
        height: 35px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--light);
        border: 1px solid #ffffff;
        border-radius: 50%;
        transition: color var(--transition-duration),
          background-color var(--transition-duration);
      }

      .btn-social:hover {
        background-color: var(--primary);
        color: #ffffff;
      }

      /* Modal Footer */
      .modal-footer {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .modal-footer .btn {
        margin: 0 10px;
      }

      /*** Sidebar Styles ***/
      .sidebar {
        display: none;
        position: fixed;
        right: 0;
        top: 0;
        width: 350px;
        height: 100%;
        background-color: #f8f9fa;
        border-left: 1px solid #dee2e6;
        padding: 20px;
        z-index: 1050;
        box-shadow: -2px 0 5px rgba(0, 0, 0, 0.2);
        overflow-y: auto;
        transition: transform 0.3s ease-in-out;
        transform: translateX(100%);
      }

      .sidebar.show {
        display: block;
        transform: translateX(0);
      }

      .close-sidebar-btn {
        background: none;
        border: none;
        font-size: 1.5rem;
        position: absolute;
        top: 15px;
        right: 15px;
        cursor: pointer;
        color: #333;
      }

      .total-price {
        margin-top: 20px;
        font-size: 18px;
        display: flex;
        align-items: center;
      }

      .total-price i {
        margin-right: 8px;
      }

      .item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        border-bottom: 1px solid #ddd;
        padding-bottom: 10px;
      }

      .item-details {
        flex: 1;
      }

      .item-actions {
        display: flex;
        align-items: center;
      }

      .item-actions button {
        background: none;
        border: none;
        font-size: 1.2rem;
        margin: 0 5px;
        cursor: pointer;
        color: #007bff;
      }

      .payment-section {
        margin-top: 30px;
        background-color: #ffffff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      .payment-section h3 {
        text-align: center;
        margin-bottom: 20px;
      }

      .form-label {
        font-weight: 500;
      }

      .btn-success {
        width: 100%;
      }

      /* Responsive Adjustments */
      @media (max-width: 576px) {
        .sidebar {
          width: 100%;
        }

        .modal-body .col-md-6 {
          flex: 0 0 100%;
          max-width: 100%;
        }
      }

      /* Expanded Content in Modal */
      .ingredients,
      .preparation {
        margin-top: 15px;
      }

      .ingredients ul,
      .preparation ol {
        margin-left: 20px;
      }

      /* Ensure balanced height between columns */
      .modal-body .col-md-6 {
        display: flex;
        flex-direction: column;
      }

      /* Payment Form Enhancements */
      #paymentForm .form-control {
        border-radius: 5px;
      }

      #paymentForm .btn-success {
        background-color: var(--primary);
        border-color: var(--primary);
      }

      #paymentForm .btn-success:hover {
        background-color: #e0a100;
        border-color: #d18b00;
      }

      /* Toast Notification */
      .toast-container {
        z-index: 1055;
      }

      .toast {
        opacity: 0;
        transition: opacity var(--transition-duration);
      }

      .toast.show {
        opacity: 1;
      }

      /* Responsive Adjustments for Menu Items */
      @media (max-width: 767.98px) {
        .w-100.d-flex.flex-column.text-start.ps-4 {
          height: auto;
        }

        /* Adjust modal carousel images on small screens */
        #menuImagesCarousel .carousel-item img {
          max-height: 250px;
        }

        /* Adjust modal text sizes */
        #menuDetailPrice {
          font-size: 1.2rem;
        }

        .rating {
          font-size: 1rem;
        }
      }

      /* Centering Buttons in Modal Footer */
      .modal-footer {
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .modal-footer .btn {
        margin: 0 10px;
      }
    </style>
  </head>

  <body>
    <div class="container-xxl bg-white p-0">
      <!-- Spinner Start -->
      <div
        id="spinner"
        class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center"
      >
        <div
          class="spinner-border text-primary"
          style="width: 3rem; height: 3rem"
          role="status"
        >
          <span class="sr-only">Loading...</span>
        </div>
      </div>
      <!-- Spinner End -->

      <!-- Navbar & Hero Start -->
      <div class="container-xxl position-relative p-0">
        <nav
          class="navbar navbar-expand-lg navbar-dark bg-dark px-4 px-lg-5 py-3 py-lg-0"
        >
          <a href="#" class="navbar-brand p-0">
            <h1 class="text-primary m-0">
              <i class="fa fa-utensils me-3"></i>Restoran
            </h1>
            <!-- <img src="img/logo.png" alt="Logo"> -->
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarCollapse"
          >
            <span class="fa fa-bars"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto py-0 pe-4">
              <a href="index.html" class="nav-item nav-link">Home</a>
              <a href="about.html" class="nav-item nav-link">About</a>
              <a href="service.html" class="nav-item nav-link">Service</a>
              <a href="menu.html" class="nav-item nav-link active">Menu</a>
              <div class="nav-item dropdown">
                <a
                  href="#"
                  class="nav-link dropdown-toggle"
                  data-bs-toggle="dropdown"
                  >Pages</a
                >
                <div class="dropdown-menu m-0">
                  <a href="booking.html" class="dropdown-item">Booking</a>
                  <a href="team.html" class="dropdown-item">Our Team</a>
                  <a href="testimonial.html" class="dropdown-item"
                    >Testimonial</a
                  >
                </div>
              </div>
              <a href="contact.html" class="nav-item nav-link">Contact</a>
            </div>
            <a href="#" class="btn btn-primary py-2 px-4">Book A Table</a>
          </div>
        </nav>

        <div class="container-xxl py-5 bg-dark hero-header mb-5">
          <div class="container text-center my-5 pt-5 pb-4">
            <h1 class="display-3 text-white mb-3 animated slideInDown">
              Food Menu
            </h1>
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb justify-content-center text-uppercase">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item"><a href="#">Pages</a></li>
                <li
                  class="breadcrumb-item text-white active"
                  aria-current="page"
                >
                  Menu
                </li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
      <!-- Navbar & Hero End -->

      <!-- Menu Start -->
      <div class="container-xxl py-5">
        <div class="container">
          <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
            <h5
              class="section-title ff-secondary text-center text-primary fw-normal"
            >
              Food Menu
            </h5>
            <h1 class="mb-5">Most Popular Items</h1>
          </div>
          <div class="tab-class text-center wow fadeInUp" data-wow-delay="0.1s">
            <ul
              class="nav nav-pills d-inline-flex justify-content-center border-bottom mb-5"
            >
              <li class="nav-item">
                <a
                  class="d-flex align-items-center text-start mx-3 ms-0 pb-3 active"
                  data-bs-toggle="pill"
                  href="#tab-1"
                >
                  <i class="fa fa-coffee fa-2x text-primary"></i>
                  <div class="ps-3">
                    <small class="text-body">Popular</small>
                    <h6 class="mt-n1 mb-0">Breakfast</h6>
                  </div>
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="d-flex align-items-center text-start mx-3 pb-3"
                  data-bs-toggle="pill"
                  href="#tab-2"
                >
                  <i class="fa fa-hamburger fa-2x text-primary"></i>
                  <div class="ps-3">
                    <small class="text-body">Special</small>
                    <h6 class="mt-n1 mb-0">Lunch</h6>
                  </div>
                </a>
              </li>
              <li class="nav-item">
                <a
                  class="d-flex align-items-center text-start mx-3 me-0 pb-3"
                  data-bs-toggle="pill"
                  href="#tab-3"
                >
                  <i class="fa fa-utensils fa-2x text-primary"></i>
                  <div class="ps-3">
                    <small class="text-body">Lovely</small>
                    <h6 class="mt-n1 mb-0">Dinner</h6>
                  </div>
                </a>
              </li>
            </ul>
            <div class="tab-content">
              <!-- Breakfast Tab -->
              <div id="tab-1" class="tab-pane fade show p-0 active">
                <div class="row g-4">
                  <!-- Các mục menu cho Breakfast -->
                  <!-- ... (nội dung các món ăn) -->
                </div>
              </div>
              <!-- Breakfast Tab End -->

              <!-- Lunch Tab -->
              <div id="tab-2" class="tab-pane fade p-0">
                <div class="row g-4">
                  <!-- Các mục menu cho Lunch -->
                  <!-- ... (nội dung các món ăn) -->
                </div>
              </div>
              <!-- Lunch Tab End -->

              <!-- Dinner Tab -->
              <div id="tab-3" class="tab-pane fade p-0">
                <div class="row g-4">
                  <!-- Các mục menu cho Dinner -->
                  <!-- ... (nội dung các món ăn) -->
                </div>
              </div>
              <!-- Dinner Tab End -->
            </div>
          </div>
          <!-- Menu End -->

          <!-- Modal Chi Tiết Món Ăn -->
          <div
            class="modal fade"
            id="menuDetailModal"
            tabindex="-1"
            aria-labelledby="menuDetailModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-lg modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header bg-primary text-white">
                  <h5 class="modal-title" id="menuDetailModalLabel">
                    Tên Món Ăn
                  </h5>
                  <button
                    type="button"
                    class="btn-close btn-close-white"
                    data-bs-dismiss="modal"
                    aria-label="Đóng"
                  ></button>
                </div>
                <div class="modal-body">
                  <div class="row">
                    <!-- Main Image and Carousel -->
                    <div class="col-md-6">
                      <div
                        id="menuImagesCarousel"
                        class="carousel slide"
                        data-bs-ride="carousel"
                      >
                        <div class="carousel-inner">
                          <!-- Dynamic Images Will Be Injected Here -->
                          <div class="carousel-item active">
                            <img
                              src=""
                              class="d-block w-100 rounded"
                              alt="..."
                            />
                          </div>
                          <!-- Additional images will be added via JavaScript if available -->
                        </div>
                        <button
                          class="carousel-control-prev"
                          type="button"
                          data-bs-target="#menuImagesCarousel"
                          data-bs-slide="prev"
                        >
                          <span
                            class="carousel-control-prev-icon bg-dark rounded-circle p-3"
                            aria-hidden="true"
                          ></span>
                          <span class="visually-hidden">Trước</span>
                        </button>
                        <button
                          class="carousel-control-next"
                          type="button"
                          data-bs-target="#menuImagesCarousel"
                          data-bs-slide="next"
                        >
                          <span
                            class="carousel-control-next-icon bg-dark rounded-circle p-3"
                            aria-hidden="true"
                          ></span>
                          <span class="visually-hidden">Sau</span>
                        </button>
                      </div>
                      <!-- Video Introduction -->
                      <div class="row mt-4">
                        <div class="col-12">
                          <h5 class="text-primary">Video Giới Thiệu</h5>
                          <div class="ratio ratio-16x9 rounded">
                            <iframe
                              id="menuDetailVideo"
                              src=""
                              title="Video giới thiệu món ăn"
                              allowfullscreen
                              class="rounded"
                            ></iframe>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- Dish Information -->
                    <div class="col-md-6">
                      <h3 id="menuDetailName" class="text-primary">
                        Tên Món Ăn
                      </h3>
                      <p id="menuDetailDescription" class="text-muted">
                        Mô tả chi tiết về món ăn...
                      </p>
                      <h4 id="menuDetailPrice" class="text-success">0 VNĐ</h4>
                      <!-- Rating -->
                      <div class="rating mb-3">
                        <span id="menuDetailRating">
                          <!-- Dynamic Stars Will Be Injected Here -->
                        </span>
                        <span class="ms-2 text-muted" id="menuDetailReviews"
                          >(0 đánh giá)</span
                        >
                      </div>
                      <!-- Ingredients -->
                      <div class="ingredients">
                        <h5 class="text-primary">Thành Phần:</h5>
                        <ul id="menuDetailIngredients">
                          <!-- Ingredients will be injected here -->
                        </ul>
                      </div>
                      <!-- Preparation -->
                      <div class="preparation">
                        <h5 class="text-primary">Cách Làm:</h5>
                        <ol id="menuDetailPreparation">
                          <!-- Preparation steps will be injected here -->
                        </ol>
                      </div>
                      <!-- Order Button -->
                      <button
                        type="button"
                        class="btn btn-primary btn-lg w-100 mt-3 btn-view-details"
                        id="orderDishButton"
                      >
                        <i class="fas fa-cart-plus me-2"></i>Đặt Món
                      </button>
                    </div>
                  </div>
                  <!-- Customer Reviews -->
                  <div class="mt-4">
                    <h5 class="text-primary">Nhận Xét Của Khách Hàng</h5>
                    <div class="testimonial-item p-3 mb-3 rounded shadow-sm">
                      <p class="mb-1">
                        "Món ăn tuyệt vời! Vị ngon và phục vụ nhanh chóng."
                      </p>
                      <small class="text-muted">- Nguyễn Văn A</small>
                    </div>
                    <div class="testimonial-item p-3 mb-3 rounded shadow-sm">
                      <p class="mb-1">
                        "Thực sự rất hài lòng với chất lượng món ăn và dịch vụ."
                      </p>
                      <small class="text-muted">- Trần Thị B</small>
                    </div>
                    <div class="testimonial-item p-3 mb-3 rounded shadow-sm">
                      <p class="mb-1">
                        "Một trải nghiệm tuyệt vời, sẽ quay lại lần sau."
                      </p>
                      <small class="text-muted">- Lê Văn C</small>
                    </div>
                    <div class="testimonial-item p-3 mb-3 rounded shadow-sm">
                      <p class="mb-1">"Món ăn ngon tuyệt, hương vị đậm đà."</p>
                      <small class="text-muted">- Phạm Thị D</small>
                    </div>
                    <!-- Thêm nhiều nhận xét nếu cần -->
                  </div>
                </div>
                <div class="modal-footer bg-light">
                  <button
                    type="button"
                    class="btn btn-primary"
                    data-bs-dismiss="modal"
                  >
                    Đóng
                  </button>
                  <a
                    href="https://www.seriouseats.com/"
                    class="btn btn-primary"
                    id="viewDetailsButton"
                  >
                    Xem Chi Tiết
                  </a>

                  <div class="social-share ms-auto">
                    <a href="#" class="btn btn-primary btn-social me-2"
                      ><i class="fab fa-facebook-f"></i
                    ></a>
                    <a href="#" class="btn btn-primary btn-social me-2"
                      ><i class="fab fa-twitter"></i
                    ></a>
                    <a href="#" class="btn btn-primary btn-social"
                      ><i class="fab fa-instagram"></i
                    ></a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Modal Chi Tiết Món Ăn End -->

          <!-- Footer Start -->
          <div
            class="container-fluid bg-dark text-light footer pt-5 mt-5 wow fadeIn"
            data-wow-delay="0.1s"
          >
            <div class="container-fluid py-5">
              <div class="row g-5">
                <div class="col-lg-3 col-md-6">
                  <h4
                    class="section-title ff-secondary text-start text-primary fw-normal mb-4"
                  >
                    Company
                  </h4>
                  <a class="btn btn-primary btn-link" href="#">About Us</a>
                  <a class="btn btn-primary btn-link" href="#">Contact Us</a>
                  <a class="btn btn-primary btn-link" href="#">Reservation</a>
                  <a class="btn btn-primary btn-link" href="#">Privacy Policy</a>
                  <a class="btn btn-primary btn-link" href="#">Terms & Condition</a>
                </div>
                <div class="col-lg-3 col-md-6">
                  <h4
                    class="section-title ff-secondary text-start text-primary fw-normal mb-4"
                  >
                    Contact
                  </h4>
                  <p class="mb-2">
                    <i class="fa fa-map-marker-alt me-3"></i>123 Street, New York,
                    USA
                  </p>
                  <p class="mb-2">
                    <i class="fa fa-phone-alt me-3"></i>+012 345 67890
                  </p>
                  <p class="mb-2">
                    <i class="fa fa-envelope me-3"></i>info@example.com
                  </p>
                  <div class="d-flex pt-2">
                    <a class="btn btn-primary btn-social me-2" href="#"
                      ><i class="fab fa-twitter"></i
                    ></a>
                    <a class="btn btn-primary btn-social me-2" href="#"
                      ><i class="fab fa-facebook-f"></i
                    ></a>
                    <a class="btn btn-primary btn-social" href="#"
                      ><i class="fab fa-youtube"></i
                    ></a>
                    <a class="btn btn-primary btn-social" href="#"
                      ><i class="fab fa-linkedin-in"></i
                    ></a>
                  </div>
                </div>
                <div class="col-lg-3 col-md-6">
                  <h4
                    class="section-title ff-secondary text-start text-primary fw-normal mb-4"
                  >
                    Opening
                  </h4>
                  <h5 class="text-light fw-normal">Monday - Saturday</h5>
                  <p>09AM - 09PM</p>
                  <h5 class="text-light fw-normal">Sunday</h5>
                  <p>10AM - 08PM</p>
                </div>
                <div class="col-lg-3 col-md-6">
                  <h4
                    class="section-title ff-secondary text-start text-primary fw-normal mb-4"
                  >
                    Newsletter
                  </h4>
                  <p>Dolor amet sit justo amet elitr clita ipsum elitr est.</p>
                  <div
                    class="position-relative mx-auto"
                    style="max-width: 400px"
                  >
                    <input
                      class="form-control border-primary w-100 py-3 ps-4 pe-5"
                      type="email"
                      placeholder="Your email"
                      required
                    />
                    <button
                      type="button"
                      class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2"
                    >
                      SignUp
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="container-fluid">
              <div class="copyright">
                <div class="row">
                  <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                    © Your Restaurant Name. All Rights Reserved. Crafted with ❤️
                    by Group 15.
                  </div>
                  <div class="col-md-6 text-center text-md-end">
                    <div class="footer-menu">
                      <a href="#">Home</a>
                      <a href="#">Cookies</a>
                      <a href="#">Help</a>
                      <a href="#">FAQs</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- Footer End -->

          <!-- Back to Top -->
          <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"
            ><i class="bi bi-arrow-up"></i
          ></a>
        </div>

        <!-- Toast Notification -->
        <div class="toast-container position-fixed bottom-0 end-0 p-3">
          <div
            id="orderSuccessToast"
            class="toast align-items-center text-white bg-success border-0"
            role="alert"
            aria-live="assertive"
            aria-atomic="true"
          >
            <div class="d-flex">
              <div class="toast-body">Đã thêm món ăn vào giỏ hàng!</div>
              <button
                type="button"
                class="btn-close btn-close-white me-2 m-auto"
                data-bs-dismiss="toast"
                aria-label="Close"
              ></button>
            </div>
          </div>
        </div>

        <!-- Sidebar for Order Confirmation -->
        <div id="orderSidebar" class="sidebar">
          <button class="close-sidebar-btn" onclick="hideOrderSidebar()">
            <i class="fas fa-times"></i>
          </button>
          <h2>Thực Đơn Bạn Đã Chọn</h2>
          <div id="selectedItems"></div>
          <div class="total-price">
            <i class="fas fa-money-bill-wave"></i> <strong>Tổng Giá:</strong>
            <span id="totalAmount">0</span> VNĐ
          </div>
          <button
            id="confirmOrderButton"
            class="btn btn-primary mt-3"
            style="display: none"
          >
            Đặt Bàn
          </button>

          <!-- Payment Section (Hidden by Default) -->
          <div
            id="paymentSection"
            class="payment-section"
            style="display: none"
          >
            <h3>Thanh Toán</h3>
            <form id="paymentForm">
              <div class="mb-3">
                <label for="paymentMethod" class="form-label"
                  >Phương Thức Thanh Toán</label
                >
                <select class="form-select" id="paymentMethod" required>
                  <option value="" disabled selected>Chọn phương thức</option>
                  <option value="cash">Tiền Mặt</option>
                  <option value="credit">Thẻ Tín Dụng</option>
                  <option value="paypal">PayPal</option>
                </select>
              </div>
              <!-- Additional Payment Fields Based on Selection -->
              <div id="creditCardFields" style="display: none">
                <div class="mb-3">
                  <label for="cardNumber" class="form-label">Số Thẻ</label>
                  <input
                    type="text"
                    class="form-control"
                    id="cardNumber"
                    placeholder="XXXX XXXX XXXX XXXX"
                  />
                </div>
                <div class="mb-3">
                  <label for="cardHolder" class="form-label">Tên Chủ Thẻ</label>
                  <input
                    type="text"
                    class="form-control"
                    id="cardHolder"
                    placeholder="Tên Chủ Thẻ"
                  />
                </div>
                <div class="row">
                  <div class="col-md-6 mb-3">
                    <label for="expiryDate" class="form-label"
                      >Ngày Hết Hạn</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="expiryDate"
                      placeholder="MM/YY"
                    />
                  </div>
                  <div class="col-md-6 mb-3">
                    <label for="cvv" class="form-label">CVV</label>
                    <input
                      type="text"
                      class="form-control"
                      id="cvv"
                      placeholder="XXX"
                    />
                  </div>
                </div>
              </div>
              <div id="paypalFields" style="display: none">
                <p>
                  Đăng nhập vào tài khoản PayPal của bạn để hoàn tất thanh toán.
                </p>
              </div>
              <button type="submit" class="btn btn-primary">
                Xác Nhận Thanh Toán
              </button>
            </form>
          </div>
        </div>
        <!-- Sidebar for Order Confirmation End -->
      </div>

      <!-- JavaScript Libraries -->
      <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
      <script src="lib/wow/wow.min.js"></script>
      <script src="lib/easing/easing.min.js"></script>
      <script src="lib/waypoints/waypoints.min.js"></script>
      <script src="lib/counterup/counterup.min.js"></script>
      <script src="lib/owlcarousel/owl.carousel.min.js"></script>
      <script src="lib/tempusdominus/js/moment.min.js"></script>
      <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
      <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

      <!-- Template Javascript -->
      <script src="js/main.js"></script>

      <!-- JavaScript for Modal Handling, Sidebar, and Tooltip Initialization -->
      <script>
        document.addEventListener("DOMContentLoaded", function () {
          var menuDetailModal = document.getElementById("menuDetailModal");
          var orderSidebar = document.getElementById("orderSidebar");
          var paymentSection = document.getElementById("paymentSection");
          var paymentForm = document.getElementById("paymentForm");
          var selectedItemsDiv = document.getElementById("selectedItems");
          var totalAmountSpan = document.getElementById("totalAmount");
          var confirmOrderButton =
            document.getElementById("confirmOrderButton");

          let orderItems = [];
          let totalAmount = 0;

          // Function to add item to order
          function addToOrder(item) {
            const existingItem = orderItems.find((i) => i.title === item.title);
            if (existingItem) {
              existingItem.quantity += 1;
            } else {
              orderItems.push({ ...item, quantity: 1 });
            }
            updateSidebar();
            showOrderSidebar();
          }

          // Function to remove item from order
          function removeFromOrder(itemTitle) {
            const index = orderItems.findIndex((i) => i.title === itemTitle);
            if (index > -1) {
              orderItems[index].quantity -= 1;
              if (orderItems[index].quantity <= 0) {
                // Remove item if quantity is 0
                orderItems.splice(index, 1);
              }
            }
            updateSidebar();
          }

          // Function to completely delete an item
          function deleteFromOrder(itemTitle) {
            orderItems = orderItems.filter((i) => i.title !== itemTitle);
            updateSidebar();
          }

          // Function to update the sidebar with selected items
          function updateSidebar() {
            selectedItemsDiv.innerHTML = ""; // Clear current items
            totalAmount = 0;

            orderItems.forEach((item) => {
              const itemTotal = item.price * item.quantity; // Calculate total for the item
              totalAmount += itemTotal;
              selectedItemsDiv.innerHTML += `
                <div class="item">
                  <div class="item-details">
                    <strong>${item.title}</strong><br>
                    <span>${item.price.toLocaleString()} VNĐ x ${
                item.quantity
              } = ${itemTotal.toLocaleString()} VNĐ</span>
                  </div>
                  <div class="item-actions">
                    <button onclick="removeFromOrder('${
                      item.title
                    }')"><i class="fas fa-minus-circle"></i></button>
                    <button onclick='addToOrder({"title": "${item.title}", "price": ${item.price}})'><i class="fas fa-plus-circle"></i></button>
                    <button onclick="deleteFromOrder('${
                      item.title
                    }')"><i class="fas fa-trash-alt text-danger"></i></button>
                  </div>
                </div>
              `;
            });

            totalAmountSpan.textContent = totalAmount.toLocaleString();

            // Show or hide the confirm order button based on cart contents
            confirmOrderButton.style.display =
              orderItems.length > 0 ? "block" : "none";
          }

          // Function to show the sidebar
          function showOrderSidebar() {
            orderSidebar.classList.add("show");
          }

          // Function to hide the sidebar
          function hideOrderSidebar() {
            orderSidebar.classList.remove("show");
            // Reset payment section if visible
            paymentSection.style.display = "none";
            // Reset payment form fields
            paymentForm.reset();
            document.getElementById("creditCardFields").style.display = "none";
            document.getElementById("paypalFields").style.display = "none";
          }

          // Handle modal show event to populate details
          menuDetailModal.addEventListener("show.bs.modal", function (event) {
            var menuItem = event.relatedTarget;

            var title = menuItem.getAttribute("data-title");
            var description = menuItem.getAttribute("data-description");
            var price = menuItem.getAttribute("data-price");
            var videoURL = menuItem.getAttribute("data-video");
            var images = menuItem.getAttribute("data-images");
            var ingredients = menuItem.getAttribute("data-ingredients");
            var preparation = menuItem.getAttribute("data-preparation");

            // Update modal content
            menuDetailModal.querySelector(".modal-title").textContent = title;
            menuDetailModal.querySelector(
              "#menuDetailDescription"
            ).textContent = description;
            menuDetailModal.querySelector(
              "#menuDetailPrice"
            ).textContent = `${parseInt(price).toLocaleString()} VNĐ`;

            // Handle images carousel
            var carouselInner =
              menuDetailModal.querySelector(".carousel-inner");
            carouselInner.innerHTML = ""; // Clear existing images
            var imageList = images
              ? images.split(",")
              : [menuItem.getAttribute("data-image")];
            imageList.forEach((imgSrc, index) => {
              carouselInner.innerHTML += `
                <div class="carousel-item ${
                  index === 0 ? "active" : ""
                }">
                  <img src="${imgSrc.trim()}" class="d-block w-100 rounded" alt="${title}">
                </div>
              `;
            });

            // Handle video URL
            var menuDetailVideo = document.getElementById("menuDetailVideo");
            if (videoURL) {
              // Convert YouTube URL to embed URL if necessary
              if (!videoURL.includes("youtube.com/embed/")) {
                var videoId = "";
                var ytRegex =
                  /(?:https?:\/\/)?(?:www\.)?(?:youtube\.com\/(?:watch\?(?:.*&)?v=|embed\/)|youtu\.be\/)([a-zA-Z0-9_-]{11})/;
                var match = videoURL.match(ytRegex);
                if (match && match[1]) {
                  videoId = match[1];
                  videoURL = `https://www.youtube.com/embed/${videoId}`;
                } else {
                  videoURL = "";
                }
              }
              if (videoURL) {
                menuDetailVideo.src = videoURL;
                menuDetailVideo.parentElement.style.display = "block";
              } else {
                menuDetailVideo.parentElement.style.display = "none";
              }
            } else {
              menuDetailVideo.parentElement.style.display = "none";
            }

            // Update rating and reviews
            var rating = menuItem.getAttribute("data-rating") || "★★★★★";
            var reviews =
              menuItem.getAttribute("data-reviews") || "(0 đánh giá)";
            var ratingContainer =
              menuDetailModal.querySelector("#menuDetailRating");
            ratingContainer.innerHTML = ""; // Clear existing stars

            // Render stars based on rating
            for (let i = 0; i < 5; i++) {
              if (i < rating.length && rating[i] === "★") {
                ratingContainer.innerHTML += '<i class="fas fa-star"></i>';
              } else {
                ratingContainer.innerHTML +=
                  '<i class="fas fa-star text-muted"></i>';
              }
            }

            menuDetailModal.querySelector(
              "#menuDetailReviews"
            ).textContent = `(${reviews})`;

            // Inject Ingredients
            var ingredientsList = menuDetailModal.querySelector(
              "#menuDetailIngredients"
            );
            ingredientsList.innerHTML = ""; // Clear existing
            if (ingredients) {
              ingredients.split(",").forEach(function (ingredient) {
                ingredientsList.innerHTML += `<li>${ingredient.trim()}</li>`;
              });
            }

            // Inject Preparation Steps
            var preparationList = menuDetailModal.querySelector(
              "#menuDetailPreparation"
            );
            preparationList.innerHTML = ""; // Clear existing
            if (preparation) {
              // Split by ". Bước" to separate steps
              preparation.split(". Bước").forEach(function (step, index) {
                step = step.trim();
                if (index === 0 && step.startsWith("Bước")) {
                  step = step.replace("Bước", "").trim();
                }
                if (step) {
                  preparationList.innerHTML += `<li>Bước ${
                    index + 1
                  }: ${step}.</li>`;
                }
              });
            }
          });

          // Clear video when modal is hidden
          menuDetailModal.addEventListener("hidden.bs.modal", function () {
            document.getElementById("menuDetailVideo").src = "";
          });

          // Handle adding dish from modal
          document
            .getElementById("orderDishButton")
            .addEventListener("click", function () {
              const title =
                menuDetailModal.querySelector(".modal-title").textContent;
              const priceText =
                menuDetailModal.querySelector("#menuDetailPrice").textContent;
              const price = parseInt(priceText.replace(/[^0-9]/g, ""));

              const item = {
                title: title,
                price: price,
              };

              addToOrder(item);

              // Show success toast
              var toastEl = document.getElementById("orderSuccessToast");
              var toast = new bootstrap.Toast(toastEl);
              toast.show();

              // Close the modal
              var modal = bootstrap.Modal.getInstance(menuDetailModal);
              modal.hide();
            });

          // Handle confirm order button click
          confirmOrderButton.addEventListener("click", function () {
            // Display payment section
            paymentSection.style.display = "block";
          });

          // Handle payment method selection
          document
            .getElementById("paymentMethod")
            .addEventListener("change", function () {
              var selectedMethod = this.value;
              if (selectedMethod === "credit") {
                document.getElementById("creditCardFields").style.display =
                  "block";
                document.getElementById("paypalFields").style.display = "none";
              } else if (selectedMethod === "paypal") {
                document.getElementById("paypalFields").style.display = "block";
                document.getElementById("creditCardFields").style.display =
                  "none";
              } else {
                document.getElementById("creditCardFields").style.display =
                  "none";
                document.getElementById("paypalFields").style.display =
                  "none";
              }
            });

          // Handle payment form submission
          paymentForm.addEventListener("submit", function (e) {
            e.preventDefault();
            const paymentMethod =
              document.getElementById("paymentMethod").value;
            if (!paymentMethod) {
              alert("Vui lòng chọn phương thức thanh toán.");
              return;
            }

            if (paymentMethod === "credit") {
              const cardNumber = document
                .getElementById("cardNumber")
                .value.trim();
              const cardHolder = document
                .getElementById("cardHolder")
                .value.trim();
              const expiryDate = document
                .getElementById("expiryDate")
                .value.trim();
              const cvv = document.getElementById("cvv").value.trim();

              // Basic validation
              if (
                cardNumber === "" ||
                cardHolder === "" ||
                expiryDate === "" ||
                cvv === ""
              ) {
                alert("Vui lòng điền đầy đủ thông tin thẻ tín dụng.");
                return;
              }

              // Additional validation can be added here (e.g., regex for card number)
            }

            // Display success message
            alert(
              "Thanh toán thành công! Cảm ơn bạn đã sử dụng dịch vụ của chúng tôi."
            );

            // Reset order
            orderItems = [];
            updateSidebar();

            // Hide sidebar and payment section
            hideOrderSidebar();

            // Reset payment form fields
            paymentForm.reset();
            document.getElementById("creditCardFields").style.display = "none";
            document.getElementById("paypalFields").style.display = "none";
          });

          // Initialize tooltips
          var tooltipTriggerList = [].slice.call(
            document.querySelectorAll('[data-bs-toggle="tooltip"]')
          );
          var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl);
          });

          // Expose functions to the global scope for inline onclick handlers
          window.addToOrder = function (item) {
            if (typeof item === "string") {
              try {
                item = JSON.parse(item);
              } catch (e) {
                console.error("Invalid JSON string for addToOrder:", item);
                return;
              }
            }
            addToOrder(item);
          };

          window.removeFromOrder = function (itemTitle) {
            removeFromOrder(itemTitle);
          };

          window.deleteFromOrder = function (itemTitle) {
            deleteFromOrder(itemTitle);
          };

          // Expose hideOrderSidebar globally
          window.hideOrderSidebar = hideOrderSidebar;
        });
      </script>
    </div>

    <!-- JavaScript Libraries (Redundant inclusion removed to prevent duplication) -->
  </body>
</html>
