<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Restoran - Instruction</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="keywords" />
    <meta content="" name="description" />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Nunito:wght@600;700;800&family=Pacifico&display=swap"
      rel="stylesheet"
    />

    <!-- Icon Font Stylesheet -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet" />
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet" />
    <link
      href="lib/tempusdominus/css/tempusdominus-bootstrap-4.min.css"
      rel="stylesheet"
    />

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet" />

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/purchase-policy.css"/>
  </head>
  <body>
    <div class="container-xxl bg-white p-0">
      <!-- Spinner Start -->
      <div
        id="spinner"
        class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center"
      >
        <div
          class="spinner-border text-primary"
          style="width: 3rem; height: 3rem"
          role="status"
        >
          <span class="sr-only">Loading...</span>
        </div>
      </div>
      <!-- Spinner End -->

      <!-- Navbar & Hero Start -->
      <div class="container-xxl position-relative p-0">
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-4 px-lg-5 py-3 py-lg-0">
          <div class="d-flex align-items-center">
            <a href="#" class="navbar-brand p-0">
              <h1 class="text-primary m-0">
                <i class="fa fa-utensils me-3"></i>Restoran
              </h1>
              <!-- <img src="img/logo.png" alt="Logo"> -->
            </a>
          </div>
      
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarCollapse"
            aria-controls="navbarCollapse"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="fa fa-bars"></span>
          </button>
      
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto py-0 pe-4">
              <a href="index.html" class="nav-item nav-link">Home</a>
              <a href="introduction.html" class="nav-item nav-link">Introduction</a>
              <!-- Removed Blog Link -->
              <a href="service.html" class="nav-item nav-link active">Service</a>
              <a href="menu.html" class="nav-item nav-link">Menu</a>
              <div class="nav-item dropdown">
                <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">Pages</a>
                <div class="dropdown-menu m-0">
                  <a href="booking.html" class="dropdown-item">Booking</a>
                  <a href="team.html" class="dropdown-item">Our Team</a>
                  <a href="testimonial.html" class="dropdown-item">Testimonial</a>
                  <!-- Added Blog and Contact -->
                  <a href="blog.html" class="dropdown-item">Blog</a>
                  <a href="contact.html" class="dropdown-item">Contact</a>
                </div>
              </div>
              <!-- Removed Contact Link -->
              <a href="search.html" class="nav-item nav-link">
                <i class="fa fa-search"></i> Search
              </a>
              <a href="register.html" class="nav-item nav-link">
                <i class="fa fa-user-plus"></i> Sign up
              </a>
              <a href="login.html" class="btn btn-outline-light ms-2">
                <i class="fa fa-user"></i> Login
              </a>
            </div>
      
            <a href="booking.html" class="btn btn-primary py-2 px-4">Book A Table</a>
          </div>
        </nav>

        <div class="container-xxl py-5 bg-dark hero-header mb-5">
          <div class="container text-center my-5 pt-5 pb-4">
            <h1 class="display-3 text-white mb-3 animated slideInDown">
              Instruction
            </h1>
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb justify-content-center text-uppercase">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item"><a href="#">Pages</a></li>
                <li
                  class="breadcrumb-item text-white active"
                  aria-current="page"
                >
                  Instruction
                </li>
              </ol>
            </nav>
          </div>
        </div>
      </div>
      <!-- Navbar & Hero End -->

      <div class="container content">
        <div class="row">
          <div class="col-md-8">
            <div class="container mt-3">
              <div class="breadcrumb custom-breadcrumb">
                <span>Home</span> // <a href="#">Instruction</a>
              </div>
              <div class="divider"></div>
            </div>
            <h2>Instruction</h2>
            <h3>
              Step 1: Visit the website and select the product (dish) you want to purchase
            </h3>
            <p>
              Visit our website and browse through the food products you are interested in. Choose the dishes you want to buy by clicking on them.
            </p>

            <h3>Step 2: Click on the product (dish) you want to buy</h3>
            <p>
              When you click on a product, a pop-up window will appear with the following options:
            </p>
            <ul>
              <li>
                <strong>Continue Shopping:</strong> Click on the continue shopping option to select more products to add to your cart.
              </li>
              <li>
                <strong>View Cart:</strong> If you want to view your cart to update the products, click on view cart.
              </li>
              <li>
                <strong>Place Order and Checkout:</strong> If you want to place an order and checkout for this product, please click on Place Order and Checkout.
              </li>
            </ul>

            <h3>Step 3: Choose your payment account information</h3>
            <p>
              - If you already have an account, please enter your login information using your email and password in the existing account section on the system.
            </p>
            <p>
              - If you do not have an account and wish to register, please fill in your personal information to continue account registration. Having an account will allow you to easily track your orders.
            </p>
            <p>
              - If you prefer to make a purchase without an account, please click on the option to place an order without an account.
            </p>

            <h3>Step 4: Fill in your information to receive the order</h3>
            <p>
              Choose your payment and shipping methods for your order. Fill in all necessary delivery information so we can deliver to your correct address.
            </p>

            <h3>Step 5: Review your order information and submit the order</h3>
            <p>
              Review all your order information, add any notes if necessary, and click submit the order. After receiving your order, our team will contact you by phone to confirm your order and your address.
            </p>

            <p>Thank you!</p>
          </div>
          <div class="col-md-4">
            <div class="sidebar">
              <div class="news-section">
                <h5>NEWS</h5>
              </div>
              <ul class="news-list">
                <li>
                  <a href="#">
                    How to Recognize Naturally Ripe Bananas and Chemically Ripened Bananas
                  </a>
                </li>
                <li>
                  <a href="#">These People Should Avoid Eating Pineapple in Winter</a>
                </li>
                <li><a href="#">3 Tips for Choosing Clean Food</a></li>
              </ul>

              <!-- Container for Policies -->
              <div class="policy-container">
                <a href="service.html" class="policy-section">
                  <i class="fas fa-truck"></i> Shipping
                </a>
                <a href="purchase-policy.html" class="policy-section">
                  <i class="fas fa-shopping-basket"></i> Purchase
                </a>
                <a href="gift-policy.html" class="policy-section">
                  <i class="fas fa-gift"></i> Gifts
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer Start -->
      <div
        class="container-fluid bg-dark text-light footer pt-5 mt-5 wow fadeIn"
        data-wow-delay="0.1s"
      >
        <div class="container-fluid py-5">
          <div class="row g-5">
            <div class="col-lg-3 col-md-6">
              <h4
                class="section-title ff-secondary text-start text-primary fw-normal mb-4"
              >
                Company
              </h4>
              <a class="btn btn-link" href="#">About Us</a>
              <a class="btn btn-link" href="#">Contact Us</a>
              <a class="btn btn-link" href="#">Reservation</a>
              <a class="btn btn-link" href="#">Privacy Policy</a>
              <a class="btn btn-link" href="#">Terms & Condition</a>
            </div>
            <div class="col-lg-3 col-md-6">
              <h4
                class="section-title ff-secondary text-start text-primary fw-normal mb-4"
              >
                Contact
              </h4>
              <p class="mb-2">
                <i class="fa fa-map-marker-alt me-3"></i>123 Street, New York,
                USA
              </p>
              <p class="mb-2">
                <i class="fa fa-phone-alt me-3"></i>+012 345 67890
              </p>
              <p class="mb-2">
                <i class="fa fa-envelope me-3"></i>info@example.com
              </p>
              <div class="d-flex pt-2">
                <a class="btn btn-outline-light btn-social" href="#"
                  ><i class="fab fa-twitter"></i
                ></a>
                <a class="btn btn-outline-light btn-social" href="#"
                  ><i class="fab fa-facebook-f"></i
                ></a>
                <a class="btn btn-outline-light btn-social" href="#"
                  ><i class="fab fa-youtube"></i
                ></a>
                <a class="btn btn-outline-light btn-social" href="#"
                  ><i class="fab fa-linkedin-in"></i
                ></a>
              </div>
            </div>
            <div class="col-lg-3 col-md-6">
              <h4
                class="section-title ff-secondary text-start text-primary fw-normal mb-4"
              >
                Opening
              </h4>
              <h5 class="text-light fw-normal">Monday - Saturday</h5>
              <p>09AM - 09PM</p>
              <h5 class="text-light fw-normal">Sunday</h5>
              <p>10AM - 08PM</p>
            </div>
            <div class="col-lg-3 col-md-6">
              <h4
                class="section-title ff-secondary text-start text-primary fw-normal mb-4"
              >
                Newsletter
              </h4>
              <p>
                Pain is just right, sit dolor sit amet. Clita ipsum elitr is.
              </p>
              <div class="position-relative mx-auto" style="max-width: 400px">
                <input
                  class="form-control border-primary w-100 py-3 ps-4 pe-5"
                  type="email"
                  placeholder="Your email"
                />
                <button
                  type="button"
                  class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2"
                >
                  SignUp
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="container-fluid">
          <div class="copyright">
            <div class="row">
              <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                © Your Restaurant Name. All Rights Reserved. Crafted with ❤️ by
                Group 15.
              </div>
              <div class="col-md-6 text-center text-md-end">
                <div class="footer-menu">
                  <a href="#">Home</a>
                  <a href="#">Cookies</a>
                  <a href="#">Help</a>
                  <a href="#">FAQs</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Footer End -->

      <!-- Back to Top -->
      <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"
        ><i class="bi bi-arrow-up"></i
      ></a>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/tempusdominus/js/moment.min.js"></script>
    <script src="lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Template Javascript -->
    <script src="js/main.js"></script>

    <!-- Enhanced JavaScript for Reservation Functionality -->
    <script>
      $(document).ready(function () {
        // Hide spinner after page load
        $("#spinner").fadeOut(500, function () {
          $(this).remove();
        });

        // Initialize WOW.js
        new WOW().init();

        // Initialize datetime picker using Tempus Dominus
        $("#datetimepicker").datetimepicker({
          icons: {
            time: "fa fa-clock",
            date: "fa fa-calendar",
            up: "fa fa-arrow-up",
            down: "fa fa-arrow-down",
            previous: "fa fa-chevron-left",
            next: "fa fa-chevron-right",
            today: "fa fa-calendar-check-o",
            clear: "fa fa-trash",
            close: "fa fa-times",
          },
          format: "L LT",
          minDate: moment(), // Prevent selecting past dates
          disabledHours: function () {
            // Assuming restaurant hours are 9 AM to 9 PM
            let hours = [];
            for (let i = 0; i < 24; i++) {
              if (i < 9 || i > 21) {
                hours.push(i);
              }
            }
            return hours;
          },
        });

        // Video Modal Handling
        var videoSrc;
        $(".btn-play").click(function () {
          videoSrc = $(this).data("src");
          $("#video").attr("src", videoSrc + "?autoplay=1");
        });

        $("#videoModal").on("hidden.bs.modal", function () {
          $("#video").attr("src", "");
        });

        // Add New Dish Item
        $("#addItem").click(function () {
          var orderItem = `
            <div class="row g-3 align-items-center mb-3 order-item">
              <div class="col-md-4">
                <input type="text" class="form-control" name="dishName[]" placeholder="Dish Name" required />
                <div class="invalid-feedback">Please enter the dish name.</div>
              </div>
              <div class="col-md-2">
                <input type="number" class="form-control quantity" name="quantity[]" placeholder="Quantity" min="1" required />
                <div class="invalid-feedback">Quantity must be at least 1.</div>
              </div>
              <div class="col-md-2">
                <input type="number" class="form-control price" name="price[]" placeholder="Price" min="0" step="0.01" required />
                <div class="invalid-feedback">Please enter a valid price.</div>
              </div>
              <div class="col-md-2">
                <input type="text" class="form-control total" name="total[]" placeholder="Total" readonly />
              </div>
              <div class="col-md-2">
                <button class="btn btn-danger remove-item" type="button">Remove</button>
              </div>
            </div>
          `;
          $("#orderDetails").append(orderItem);
        });

        // Remove Dish Item
        $(document).on("click", ".remove-item", function () {
          $(this).closest(".order-item").remove();
          calculateGrandTotal();
        });

        // Calculate Total for each dish
        $(document).on("input", ".quantity, .price", function () {
          var row = $(this).closest(".order-item");
          var quantity = parseFloat(row.find(".quantity").val()) || 0;
          var price = parseFloat(row.find(".price").val()) || 0;
          var total = quantity * price;
          row.find(".total").val(total.toFixed(2));
          calculateGrandTotal();
        });

        // Calculate Grand Total
        function calculateGrandTotal() {
          var grandTotal = 0;
          $(".total").each(function () {
            var val = parseFloat($(this).val()) || 0;
            grandTotal += val;
          });
          // You can display grand total somewhere if needed
          // For example:
          // $('#grandTotal').text(grandTotal.toFixed(2));
        }

        // Form Validation and Submission Handling
        (function () {
          "use strict";

          var forms = document.querySelectorAll("#reservationForm");

          Array.prototype.slice.call(forms).forEach(function (form) {
            form.addEventListener(
              "submit",
              function (event) {
                // Prevent form submission
                event.preventDefault();
                event.stopPropagation();

                // Check form validity
                if (form.checkValidity()) {
                  // Collect form data
                  var reservationData = {
                    name: $("#name").val(),
                    email: $("#email").val(),
                    datetime: $("#datetime").val(),
                    people: $("#select1").val(),
                    specialRequest: $("#message").val(),
                    orders: [],
                  };

                  // Collect order details
                  $(".order-item").each(function () {
                    var dishName = $(this)
                      .find("input[name='dishName[]']")
                      .val();
                    var quantity = $(this)
                      .find("input[name='quantity[]']")
                      .val();
                    var price = $(this).find("input[name='price[]']").val();
                    var total = $(this).find("input[name='total[]']").val();

                    if (dishName && quantity && price) {
                      reservationData.orders.push({
                        dishName: dishName,
                        quantity: quantity,
                        price: price,
                        total: total,
                      });
                    }
                  });

                  // Calculate grand total (optional)
                  reservationData.grandTotal = 0;
                  reservationData.orders.forEach(function (order) {
                    reservationData.grandTotal += parseFloat(order.total);
                  });
                  reservationData.grandTotal =
                    reservationData.grandTotal.toFixed(2);

                  // Display reservation data in console (replace with actual processing)
                  console.log("Reservation Data:", reservationData);

                  // Send data to Formspree via AJAX
                  $.ajax({
                    url: form.action, // URL endpoint from Formspree
                    method: form.method, // POST
                    data: JSON.stringify(reservationData),
                    contentType: "application/json",
                    success: function () {
                      // Reset form and display success modal
                      form.reset();
                      // Remove additional order items and keep one default item
                      $("#orderDetails").html(`
                        <div class="row g-3 align-items-center mb-3 order-item">
                          <div class="col-md-4">
                            <input type="text" class="form-control" name="dishName[]" placeholder="Dish Name" required />
                            <div class="invalid-feedback">Please enter the dish name.</div>
                          </div>
                          <div class="col-md-2">
                            <input type="number" class="form-control quantity" name="quantity[]" placeholder="Quantity" min="1" required />
                            <div class="invalid-feedback">Quantity must be at least 1.</div>
                          </div>
                          <div class="col-md-2">
                            <input type="number" class="form-control price" name="price[]" placeholder="Price" min="0" step="0.01" required />
                            <div class="invalid-feedback">Please enter a valid price.</div>
                          </div>
                          <div class="col-md-2">
                            <input type="text" class="form-control total" name="total[]" placeholder="Total" readonly />
                          </div>
                          <div class="col-md-2">
                            <button class="btn btn-danger remove-item" type="button">Remove</button>
                          </div>
                        </div>
                      `);
                      calculateGrandTotal();

                      // Display success modal
                      $("#successModal").modal("show");
                    },
                    error: function () {
                      // Display error message
                      alert(
                        "An error occurred while submitting your reservation. Please try again later."
                      );
                    },
                  });
                } else {
                  form.classList.add("was-validated");
                }
              },
              false
            );
          });
        })();
      });
    </script>
  </body>
</html>
